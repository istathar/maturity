\documentclass[11pt,a4paper]{memoir}
\usepackage{libertine}

\usepackage[T1]{fontenc}
\usepackage{ucs}
\usepackage[utf8x]{inputenc}

% use upquote for straight quotes in verbatim environments
\usepackage{upquote}

% use microtype
\usepackage{microtype}
\UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts

% set page margins
\setlrmarginsandblock{2cm}{*}{1.5}
\setulmarginsandblock{2.7cm}{3.0cm}{*}
\checkandfixthelayout[classic]

\usepackage{graphicx,grffile}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}


\setlength{\emergencystretch}{3em}  % prevent overfull lines

\usepackage{pgf}

\usepackage[pdflatex={pdflatex -halt-on-error -interaction=nonstopmode}]{svg}

%
% Inconsolata monospaced font
%

\usepackage[varqu,scaled=0.925]{zi4}

% Get control of page numbering. Enable fancyhdr, but turn off stupid header
% rule. Then use the lastpage mechansim to get the page count. The '*' disables
% hyperref from creating a link to the page number.

% TODO

%
% Load the TeX Gyre project's "Heros" font, which is an upgrade of URW's
% lovely "Nimbus Sans L" sans-serif font.
%

\usepackage{tgheros}

%
% Customize the section heading fonts to use this accordingly.
%

\usepackage{titlesec}

\titlespacing*{\section}{0pt}{1ex}{1ex}
\titlespacing*{\subsection}{0pt}{1ex}{1ex}
\titlespacing*{\subsubsection}{0pt}{1ex}{1ex}
\titleformat*{\section}{\LARGE\sffamily}
\titleformat*{\subsection}{\Large\sffamily}
\titleformat*{\subsubsection}{\normalsize\sffamily}

\setsecnumdepth{none}

%
% And now, the main body
%

$for(header-includes)$
$header-includes$
$endfor$

\begin{document}

$for(include-before)$
$include-before$
$endfor$

$body$

$for(include-after)$
$include-after$
$endfor$

\end{document}
